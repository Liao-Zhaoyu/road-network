# QuadTree Model for generating random road networks

## Generate a sample road network

- clone repo and then run the following
```
cd road-network/rng
python network_gen.py
```

## output
```
Generating road network
*** Tree Stats ***
{0: 0, 1: 1, 2: 1, 3: 1, 4: 1, 5: 2, 6: 2, 7: 2, 8: 2, 9: 2, 10: 2, 11: 2, 12: 2, 13: 1, 14: 1, 15: 1, 16: 1, 17: 3, 18: 3, 19: 3, 20: 3, 21: 3, 22: 3, 23: 3, 24: 3, 25: 3, 26: 3, 27: 3, 28: 3, 29: 2, 30: 2, 31: 2, 32: 2, 33: 4, 34: 4, 35: 4, 36: 2, 37: 2, 38: 2, 39: 2, 40: 5, 41: 4, 42: 4, 43: 3, 44: 3, 45: 3, 46: 3, 47: 6, 48: 4, 49: 2, 50: 2, 51: 2, 52: 2, 53: 4, 54: 4, 55: 5, 56: 3, 57: 3, 58: 3, 59: 3, 60: 3, 61: 3, 62: 3, 63: 3, 64: 6, 65: 3, 66: 3, 67: 3, 68: 3, 69: 4, 70: 6, 71: 4, 72: 4, 73: 4, 74: 4, 75: 4, 76: 3, 77: 3, 78: 3, 79: 3, 80: 5, 81: 7, 82: 4, 83: 3, 84: 3, 85: 3, 86: 3, 87: 3, 88: 3, 89: 3, 90: 3, 91: 4, 92: 6, 93: 4, 94: 4, 95: 4, 96: 4, 97: 2, 98: 2, 99: 2, 100: 2, 101: 1, 102: 1, 103: 1, 104: 1, 105: 5, 106: 4, 107: 5, 108: 4, 109: 2, 110: 2, 111: 2, 112: 2, 113: 3, 114: 3, 115: 3, 116: 3, 117: 4, 118: 4, 119: 4, 120: 5, 121: 4, 122: 5, 123: 2, 124: 2, 125: 2, 126: 2, 127: 5, 128: 5, 129: 6, 130: 5, 131: 6, 132: 2, 133: 2, 134: 2, 135: 2, 136: 6, 137: 3, 138: 3, 139: 3, 140: 3, 141: 3, 142: 3, 143: 3, 144: 3, 145: 4, 146: 4, 147: 4, 148: 2, 149: 2, 150: 2, 151: 2, 152: 4, 153: 3, 154: 3, 155: 3, 156: 3, 157: 5, 158: 6, 159: 5, 160: 4, 161: 6, 162: 5, 163: 4, 164: 4, 165: 3, 166: 3, 167: 3, 168: 3, 169: 4, 170: 4, 171: 5, 172: 6, 173: 6, 174: 4, 175: 4, 176: 5, 177: 4, 178: 4, 179: 3, 180: 3, 181: 3, 182: 3, 183: 3, 184: 3, 185: 3, 186: 3, 187: 5, 188: 4, 189: 4, 190: 4, 191: 4, 192: 4, 193: 4, 194: 4, 195: 4, 196: 4, 197: 3, 198: 3, 199: 3, 200: 3, 201: 3, 202: 3, 203: 3, 204: 3, 205: 4, 206: 4, 207: 3, 208: 3, 209: 3, 210: 3, 211: 6, 212: 3, 213: 3, 214: 3, 215: 3, 216: 4, 217: 4, 218: 5, 219: 5, 220: 4, 221: 2, 222: 2, 223: 2, 224: 2, 225: 3, 226: 3, 227: 3, 228: 3, 229: 3, 230: 3, 231: 3, 232: 3, 233: 4, 234: 4, 235: 4, 236: 4, 237: 4, 238: 4, 239: 3, 240: 3, 241: 3, 242: 3, 243: 5, 244: 4, 245: 4, 246: 4, 247: 4, 248: 7, 249: 7, 250: 4, 251: 4, 252: 4, 253: 5, 254: 2, 255: 2, 256: 2, 257: 2, 258: 5, 259: 5, 260: 3, 261: 3, 262: 3, 263: 3, 264: 3, 265: 3, 266: 3, 267: 3, 268: 4, 269: 4, 270: 5, 271: 4, 272: 4, 273: 4, 274: 4, 275: 6, 276: 3, 277: 3, 278: 3, 279: 3, 280: 5, 281: 4, 282: 4, 283: 5, 284: 5, 285: 4, 286: 4, 287: 4, 288: 4, 289: 4, 290: 6, 291: 5, 292: 4, 293: 4, 294: 4, 295: 5, 296: 2, 297: 2, 298: 2, 299: 2, 300: 4, 301: 4, 302: 4, 303: 4, 304: 5, 305: 7, 306: 4, 307: 4, 308: 4, 309: 3, 310: 3, 311: 3, 312: 3, 313: 4, 314: 5, 315: 6, 316: 5, 317: 6, 318: 5, 319: 3, 320: 3, 321: 3, 322: 3, 323: 3, 324: 3, 325: 3, 326: 3, 327: 4, 328: 4, 329: 5, 330: 4, 331: 4, 332: 4, 333: 4, 334: 5, 335: 4, 336: 4, 337: 4, 338: 4, 339: 2, 340: 2, 341: 2, 342: 2, 343: 3, 344: 3, 345: 3, 346: 3, 347: 6, 348: 3, 349: 3, 350: 3, 351: 3, 352: 5, 353: 4, 354: 3, 355: 3, 356: 3, 357: 3, 358: 4, 359: 4, 360: 3, 361: 3, 362: 3, 363: 3, 364: 4, 365: 5, 366: 5, 367: 4, 368: 4, 369: 4, 370: 3, 371: 3, 372: 3, 373: 3, 374: 4, 375: 5, 376: 5, 377: 5, 378: 6, 379: 5, 380: 7, 381: 5, 382: 7, 383: 4, 384: 2, 385: 2, 386: 2, 387: 2, 388: 3, 389: 3, 390: 3, 391: 3, 392: 5, 393: 2, 394: 2, 395: 2, 396: 2, 397: 5, 398: 4, 399: 5, 400: 4, 401: 5, 402: 4, 403: 6, 404: 4, 405: 4, 406: 4, 407: 5, 408: 7, 409: 6, 410: 4, 411: 4, 412: 4, 413: 5, 414: 6, 415: 5, 416: 5, 417: 6, 418: 6, 419: 6, 420: 6, 421: 4, 422: 4, 423: 5, 424: 4, 425: 4, 426: 4, 427: 8, 428: 3, 429: 3, 430: 3, 431: 3, 432: 5, 433: 5, 434: 7, 435: 4, 436: 4, 437: 4, 438: 4, 439: 4, 440: 3, 441: 3, 442: 3, 443: 3, 444: 4, 445: 7, 446: 4, 447: 4, 448: 6, 449: 4, 450: 3, 451: 3, 452: 3, 453: 3, 454: 6, 455: 5, 456: 3, 457: 3, 458: 3, 459: 3, 460: 4, 461: 5, 462: 5, 463: 3, 464: 3, 465: 3, 466: 3, 467: 5, 468: 4, 469: 4, 470: 5, 471: 6, 472: 5, 473: 8, 474: 4, 475: 8, 476: 4, 477: 3, 478: 3, 479: 3, 480: 3, 481: 5, 482: 3, 483: 3, 484: 3, 485: 3, 486: 7, 487: 4, 488: 4, 489: 3, 490: 3, 491: 3, 492: 3, 493: 4, 494: 4, 495: 6, 496: 5, 497: 4, 498: 5, 499: 4, 500: 4, 501: 4, 502: 4, 503: 4, 504: 4, 505: 4, 506: 4, 507: 6, 508: 5, 509: 5, 510: 4, 511: 5, 512: 4, 513: 5, 514: 4, 515: 3, 516: 3, 517: 3, 518: 3, 519: 2, 520: 2, 521: 2, 522: 2, 523: 4, 524: 4, 525: 4, 526: 4, 527: 7, 528: 4, 529: 4, 530: 9, 531: 4, 532: 3, 533: 3, 534: 3, 535: 3, 536: 6, 537: 6, 538: 5, 539: 6, 540: 5, 541: 5, 542: 4, 543: 7, 544: 8, 545: 4, 546: 4, 547: 4, 548: 4, 549: 4, 550: 4, 551: 6, 552: 5, 553: 5, 554: 7, 555: 4, 556: 4, 557: 4, 558: 4, 559: 3, 560: 3, 561: 3, 562: 3, 563: 8, 564: 4, 565: 4, 566: 4, 567: 4, 568: 4, 569: 4, 570: 7, 571: 4, 572: 4, 573: 9, 574: 4, 575: 2, 576: 2, 577: 2, 578: 2, 579: 5, 580: 4, 581: 4, 582: 4, 583: 4, 584: 7, 585: 7, 586: 5, 587: 7, 588: 3, 589: 3, 590: 3, 591: 3, 592: 5, 593: 5, 594: 6, 595: 4, 596: 4, 597: 4, 598: 6, 599: 4, 600: 4, 601: 3, 602: 3, 603: 3, 604: 3, 605: 4, 606: 4, 607: 4, 608: 6, 609: 3, 610: 3, 611: 3, 612: 3, 613: 4, 614: 4, 615: 4, 616: 4, 617: 4, 618: 4, 619: 5, 620: 4, 621: 4, 622: 6, 623: 3, 624: 3, 625: 3, 626: 3, 627: 5, 628: 4, 629: 4, 630: 5, 631: 4, 632: 6, 633: 5, 634: 4, 635: 4, 636: 4, 637: 4, 638: 6, 639: 6, 640: 5, 641: 4, 642: 4, 643: 5, 644: 4, 645: 4, 646: 4, 647: 6, 648: 5, 649: 5, 650: 4, 651: 4, 652: 4, 653: 4, 654: 5, 655: 4, 656: 5, 657: 7, 658: 6, 659: 4, 660: 6, 661: 4, 662: 4, 663: 6, 664: 3, 665: 3, 666: 3, 667: 3, 668: 5, 669: 6, 670: 4, 671: 4, 672: 6, 673: 3, 674: 3, 675: 3, 676: 3, 677: 5, 678: 3, 679: 3, 680: 3, 681: 3, 682: 4, 683: 4, 684: 6, 685: 4, 686: 4, 687: 5, 688: 5, 689: 4, 690: 6, 691: 5, 692: 6, 693: 5, 694: 4, 695: 4, 696: 6, 697: 5, 698: 5, 699: 7, 700: 4, 701: 4, 702: 5, 703: 4, 704: 4, 705: 2, 706: 2, 707: 2, 708: 2, 709: 5, 710: 6, 711: 6, 712: 5, 713: 5, 714: 5, 715: 2, 716: 2, 717: 2, 718: 2, 719: 1, 720: 1, 721: 1, 722: 1, 723: 9, 724: 3, 725: 3, 726: 3, 727: 3, 728: 4, 729: 3, 730: 3, 731: 3, 732: 3, 733: 5, 734: 4, 735: 4, 736: 6, 737: 5, 738: 4, 739: 5, 740: 7, 741: 4, 742: 4, 743: 5, 744: 3, 745: 3, 746: 3, 747: 3, 748: 4, 749: 3, 750: 3, 751: 3, 752: 3, 753: 7, 754: 4, 755: 4, 756: 4, 757: 5, 758: 6, 759: 6, 760: 4, 761: 4, 762: 5, 763: 4, 764: 6, 765: 3, 766: 3, 767: 3, 768: 3, 769: 8, 770: 2, 771: 2, 772: 2, 773: 2, 774: 4, 775: 4, 776: 5, 777: 4, 778: 4, 779: 4, 780: 6, 781: 3, 782: 3, 783: 3, 784: 3, 785: 3, 786: 3, 787: 3, 788: 3, 789: 5, 790: 2, 791: 2, 792: 2, 793: 2, 794: 6, 795: 3, 796: 3, 797: 3, 798: 3, 799: 3, 800: 3, 801: 3, 802: 3}
generating squares...
writing data to files...
# of edges: 1086
generate road network image at: /Users/armahend/git/road-network/rng/rand-quad-road-network.png
Done
```

# About the model

![ScreenShot](/sample-network.png)

## QuadTree Model
Eisenstat introduces random road network generation using QuadTree data structure in [Eis10 ]. This project
implements that model in python and can be used to generate random road network of varying sizes.

## QuadTree implementation
The main component of the model is the Quadtree data structure. Quadtree is a tree data structure similar
to a binary tree with the difference that each node could have up to four children instead of two. In this
implementation each node either has four children or no children. The first node in the tree forms the initial
plane. Each node in the tree represents a square and its four children represent the division of the square
into four quadrants. Squares are added to the tree by recursively dividing squares into four quadrants.

## Road network and coordinate generation
Each node in the tree represents a square in a plane. For a given number n of nodes, the squares are randomly divided
into four quadrants, i.e. add four children to leaf nodes in the QuadTree. Each edge of the square forms
a road connecting two points. The Point class represents a point in the 2 dimensional
space. The Point class implements Python’s standard comparison, hash methods and also a method to
calculate euclidean distance to another point in the same plane. Once the desired number of squares are
generated, the tree is recursively traversed to generate Points based on the box formed
by the squares in the tree. From these Points a list of edges are generated and the euclidean
distance between them are calculated. Additionally, there are utility methods to perform Breadth First Search, add
nodes to specific nodes in the tree and print statistics. To visualize the generated road network there is
a utility to plot the network using Matplotlib

License: MIT License

[Eis10] David Eisenstat. “Random road networks: the quadtree model”. In: CoRR abs/1008.4916 (2010).
url: http://arxiv.org/abs/1008.4916.
